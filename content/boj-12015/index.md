---
emoji: ğŸœ
title: ã€ˆë°±ì¤€ã€‰ 12015ë²ˆ ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ 2 (JAVA)
date: '2022-12-18 04:00:00'
author: í•˜ì—°
tags: ì½”ë”©í…ŒìŠ¤íŠ¸ ë°±ì¤€ BOJ LIS ì´ë¶„íƒìƒ‰
categories: ì•Œê³ ë¦¬ì¦˜
---

## â” ë¬¸ì œ

### [12015 ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ 2](https://www.acmicpc.net/problem/12015)

#### ìœ í˜• : LIS O(n log n), ì´ë¶„íƒìƒ‰

#### í‹°ì–´ : Gold2

## â• í’€ì´

ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ ìˆ˜ì—´ì˜ í¬ê¸°ê°€ 100ë§Œì´ë‹¤.
DPë¥¼ í™œìš©í•œ LISëŠ” O(n^2)ì´ë¼ì„œ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
ì´ë¶„íƒìƒ‰ì„ í™œìš©í•´ì„œ O(n log n)ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤ê³  í•´ì„œ ê°œë…ì„ ê³µë¶€í•˜ë©´ì„œ í’€ì—ˆë‹¤.

## LIS(Longest Increasing Subsequence)

### ìµœì¥ ì¦ê°€ ë¶€ë¶„ ìˆ˜ì—´ì´ë€?

> ì£¼ì–´ì§„ ìˆ˜ì—´ì—ì„œ **ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ëœ ê°€ì¥ ê¸´ ë¶€ë¶„ ìˆ˜ì—´**ì´ë‹¤. ë‹¨, ë¶€ë¶„ ìˆ˜ì—´ì´ ì—°ì†ì ì´ê±°ë‚˜ ìœ ì¼í•  í•„ìš”ëŠ” ì—†ë‹¤.

![table1](./table1.png)

ì§ê´€ì ìœ¼ë¡œ LISê°€ **[10, 20, 30, 50]**ì¸ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.
LIS ë¬¸ì œëŠ” knapsack, LCSì™€ ë”ë¶ˆì–´ [ë™ì  ê³„íšë²•](https://haayun.github.io/dynamic-programming)ì„ í™œìš©í•˜ëŠ” ëŒ€í‘œì ì¸ ìœ í˜• ì¤‘ í•˜ë‚˜ì´ë‹¤.

### í’€ì´ 1) ë™ì  ê³„íšë²• + ì´ì¤‘ forë¬¸ (O(N^2))

[ë™ì  ê³„íšë²• - 11053](https://haayun.github.io/dynamic-programming/#11053-%EA%B0%80%EC%9E%A5-%EA%B8%B4-%EC%A6%9D%EA%B0%80%ED%95%98%EB%8A%94-%EB%B6%80%EB%B6%84-%EC%88%98%EC%97%B4)  
[11053 ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´](https://haayun.github.io/boj-11053/)

ì í™”ì‹ ë„ì¶œê³¼ ì½”ë“œëŠ” ìœ„ í¬ìŠ¤íŠ¸ì—ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.
ì •ë¦¬í•˜ìë©´, ì•„ë˜ì™€ ê°™ë‹¤.

1. DP ë°°ì—´ì„ ìˆ˜ì—´ì˜ ê¸¸ì´ì™€ ê°™ì€ í¬ê¸°ë¡œ ìƒì„±í•œë‹¤.
2. ìˆ˜ì—´ì„ ì²˜ìŒë¶€í„° ëê¹Œì§€ íƒìƒ‰í•˜ë©° DP ê°’ì„ ì €ì¥í•œë‹¤.
   (1) í˜„ì¬ ìœ„ì¹˜ë³´ë‹¤ ì´ì „ì˜ ì›ì†Œ ì¤‘ì—ì„œ í˜„ì¬ ì›ì†Œë³´ë‹¤ ì‘ìœ¼ë©´ì„œ
   (2) ê°€ì¥ DP ê°’ì´ í° ê°’(ê°€ì¥ ê¸¸ì´ê°€ ê¸´ ë¶€ë¶„ ìˆ˜ì—´ì˜ ê¸¸ì´)ì„ êµ¬í•œë‹¤.
   (3) í˜„ì¬ ì›ì†Œê¹Œì§€ í¬í•¨í•´ì„œ value + 1ì„ DP[i]ì— ì €ì¥í•œë‹¤.
3. ê°€ì¥ í° DP ê°’ì„ ì¶œë ¥í•œë‹¤.

### í’€ì´ 2) ì´ë¶„íƒìƒ‰ (O(N log N))

ì´ì „ ë°©ì‹ì—ì„œëŠ” ì´ì „ì˜ ì›ì†Œë“¤ì„ ëª¨ë‘ íƒìƒ‰í•˜ë©´ì„œ O(N^2)ë¼ëŠ” ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤. ì´ë¡œë¶€í„° ì´ì „ì˜ ì›ì†Œë“¤ì„ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì„ **lower bound**ì„ í™œìš©í•˜ì—¬ O(log N)ìœ¼ë¡œ ì¤„ì´ëŠ” ê²ƒì´ë‹¤.

í•µì‹¬ ì•„ì´ë””ì–´ëŠ” **LISë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œ LISì˜ ë§ˆì§€ë§‰ ì›ì†Œê°€ ì‘ì„ ìˆ˜ë¡ ë” ê¸´ LISë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤**ëŠ” ê²ƒì´ë‹¤. ì›ì†Œê°€, ë§Œì•½ í˜„ì¬ ìƒì„±ëœ LISì˜ ë§ˆì§€ë§‰ ì›ì†Œë³´ë‹¤ ì‘ì€ ê²½ìš°, LISì— ë“¤ì–´ê°ˆ ìœ„ì¹˜ë¥¼ ì°¾ì€ í›„, í•´ë‹¹ ì›ì†Œë¥¼ ëŒ€ì²´í•œë‹¤.

ê·¸ë¦¼ìœ¼ë¡œ ì˜ˆì œ ì¼€ì´ìŠ¤ë¥¼ í’€ì´í•´ë³´ê² ë‹¤.
![ex 0](./ex.png)

> ì£¼ì–´ì§„ ìˆ˜ì—´ê³¼ ì´ˆê¸° ìƒíƒœì´ë‹¤.

![ex 1](./ex1.png)

> ì²«ë²ˆì§¸ ì›ì†ŒëŠ” ê·¸ëŒ€ë¡œ ëŒ€ì…í•´ì¤€ë‹¤.

![ex 2](./ex2.png)

> 2ë²ˆì§¸ ì›ì†Œì¸ 8ëŠ” lisì˜ ë§ˆì§€ë§‰ ì›ì†Œì¸ 2ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ì¶”ê°€ë¡œ ì €ì¥í•œë‹¤. 2ë²ˆì§¸ ìœ„ì¹˜ì—ì„œ LISì˜ ê¸¸ì´ëŠ” 2ì´ë‹¤.

![ex 3](./ex3.png)

> 3ë²ˆì§¸ ì›ì†Œì¸ 9ëŠ” lisì˜ ë§ˆì§€ë§‰ ì›ì†Œì¸ 8ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ì¶”ê°€ë¡œ ì €ì¥í•œë‹¤. 3ë²ˆì§¸ ìœ„ì¹˜ì—ì„œ LISì˜ ê¸¸ì´ëŠ” 3ì´ë‹¤.

![ex 4](./ex4.png)

> 4ë²ˆì§¸ ì›ì†Œì¸ 5ëŠ” lis ë°°ì—´ì˜ ë§ˆì§€ë§‰ ì›ì†Œì¸ 9ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ìë¦¬ë¥¼ ì°¾ì•„ ê°€ì•¼í•œë‹¤. lis ê°’ë“¤ ì¤‘ 5ë³´ë‹¤ ê°™ê±°ë‚˜ í° ê°’ë“¤ ì¤‘ ê°€ì¥ ì‘ì€ ê°’ì¸ 8ì„ ëŒ€ì²´í•œë‹¤.  
> ì£¼ì˜í•  ì ì€ lis ë°°ì—´[2, 5, 9]ì€ LISê°€ ë  ìˆ˜ ì—†ë‹¤. (ë³´ë‹¤ì‹œí”¼ ìˆ˜ì—´ì´ ì•„ë‹ˆë‹¤.)  
> lis ë°°ì—´ì€ í˜„ì¬ê¹Œì§€ì˜ LIS ë°°ì—´ ìì²´ê°€ ì•„ë‹Œ ê¸¸ì´ë¥¼ êµ¬í•˜ê¸° ìœ„í•œ ìˆ˜ë‹¨ì¼ ë¿ì´ë‹¤.

![ex 5](./ex5.png)

> 4ë²ˆì§¸ì™€ ê°™ì´ 5ë²ˆì§¸ ì›ì†Œ 6ì€ 9ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ìë¦¬ë¥¼ ì°¾ì•„ì•¼ í•˜ê³  9ë¥¼ ëŒ€ì²´í•˜ê²Œ ëœë‹¤. í˜„ì¬ ìœ„ì¹˜ì—ì„œë„ ì—¬ì „íˆ LISì˜ ê¸¸ì´ëŠ” 3ì´ë‹¤.

![ex 6](./ex6.png)

> 6ë²ˆì§¸ ì›ì†Œì¸ 7ì€ lis ë°°ì—´ì˜ ë§ˆì§€ë§‰ ì›ì†Œì¸ 6ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ì¶”ê°€í•´ì¤€ë‹¤. 6ë²ˆì§¸ ìœ„ì¹˜ì—ì„œ LISì˜ ê¸¸ì´ëŠ” 4ê°€ ëœë‹¤.  
> ì´ì „ ë‹¨ê³„ì—ì„œ 6ì´ 9ë¥¼ ëŒ€ì²´í•˜ì§€ ì•Šì•˜ë‹¤ë©´ 7ì€ ì¶”ê°€ë  ìˆ˜ê°€ ì—†ë‹¤. ì´ì „ ê°’ë“¤ì„ ê°±ì‹ í•´ì£¼ì—ˆê¸° ë•Œë¬¸ì— 7ì´ LISì— ì¶”ê°€ë  ê°€ëŠ¥ì„±ì„ ê³ ë ¤í•  ìˆ˜ ìˆê²Œ ëœ ê²ƒì´ë‹¤!

![ex 7](./ex7.png)

> 7ë²ˆì§¸ ì›ì†Œì¸ 1ì€ lis ë°°ì—´ì˜ ë§ˆì§€ë§‰ ì›ì†Œì¸ 7ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ìë¦¬ë¥¼ ì°¾ëŠ”ë‹¤. 2ë¥¼ ëŒ€ì²´í•˜ê³  ìµœì¢… LISì˜ ê¸¸ì´ëŠ” 4ì´ë‹¤. (ë¬¼ë¡  ìµœì¢… lis ë°°ì—´ì´ LISëŠ” ì•„ë‹ˆë‹¤.)

ì´ë¶„íƒìƒ‰ì„ í™œìš©í•´ì„œ O(n log n)ì˜ ì‹œê°„ë³µì¡ë„ë¡œ LISë¥¼ êµ¬í•´ë³´ì•˜ë‹¤. lis ë°°ì—´ì€ ìµœì¢… LISë¥¼ êµ¬í•˜ê¸° ìœ„í•¨ì´ ì•„ë‹Œ LISë¥¼ êµ¬í•˜ê¸° ìœ„í•œ ìµœì ì˜ ë± ë¦¬ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì´ë©° ìµœì¢… LIS ê¸¸ì´ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.
í•˜ì§€ë§Œ ìµœì¢… ë°°ì—´ì€ LISì™€ ë™ì¼í•˜ì§€ ì•ŠìŒì„ ì•Œì•„ì•¼ í•œë‹¤.

### ğŸ‘€ ì½”ë“œ

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class Main_12015_ê°€ì¥_ê¸´_ì¦ê°€í•˜ëŠ”_ë¶€ë¶„ìˆ˜ì—´_2 {
    static int N;
    static int[] arr, lis;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        N = Integer.parseInt(br.readLine());
        StringTokenizer st = new StringTokenizer(br.readLine());
        arr = new int[N];
        lis = new int[N];
        for (int i = 0; i < N; i++) {
            arr[i] = Integer.parseInt(st.nextToken());
        }

        int j = 0;                      // lis ë°°ì—´ì˜ ë§ˆì§€ë§‰ ì›ì†Œë¥¼ ê°€ë¦¬í‚¤ëŠ” ë³€ìˆ˜ (= LISì˜ ê¸¸ì´)
        lis[0] = arr[0];                // lis ë°°ì—´ì˜ ì²«ë²ˆì§¸ ê°’ì€ ê·¸ëŒ€ë¡œ ëŒ€ì…í•œë‹¤.
        for (int i = 1; i < N; i++) {
            if (lis[j] < arr[i]) {      // arr[i] ê°’ì´ lis ë°°ì—´ì˜ ë§ˆì§€ë§‰ ê°’ë³´ë‹¤ í¬ë‹¤ë©´ ì¶”ê°€ë¡œ ì €ì¥í•œë‹¤.
                lis[++j] = arr[i];
            } else {                    // arr[i]ê°€ ë“¤ì–´ê°ˆ ìë¦¬ë¥¼ ì°¾ëŠ”ë‹¤.
                int idx = binarySearch(0, j, arr[i]);
                lis[idx] = arr[i];
            }
        }

        System.out.println(j + 1);      // 0ë¶€í„° ì‹œì‘í–ˆëŠ”ë° ê¸¸ì´ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ì„œ +1í•œë‹¤.
    }

    static int binarySearch(int left, int right, int target) {  // targetì˜ lower boundë¥¼ ë¦¬í„´í•œë‹¤. (leftì™€ right ì‚¬ì´ì˜ targetë³´ë‹¤ ê°™ê±°ë‚˜ í° ê°’ ì¤‘ ê°€ì¥ ì‘ì€ ê°’ì˜ ì¸ë±ìŠ¤)
        int mid;
        while (left < right) {
            mid = (left + right) / 2;       // ì¤‘ê°„ê°’
            if (lis[mid] < target) {        // ë’· ë¶€ë¶„ì„ ì°¾ëŠ”ë‹¤.
                left = mid + 1;
            } else {                        // ì• ë¶€ë¶„ì„ ì°¾ëŠ”ë‹¤.
                right = mid;
            }
        }
        return right;
    }
}
```

### ğŸ‘£ ê²°ê³¼

ì†Œìš” ì‹œê°„ : 2 h
![12015](./result.png)

```toc

```
